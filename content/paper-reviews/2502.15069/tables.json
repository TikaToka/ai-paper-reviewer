[{"content": "| Differential Diagnosis | gpt-4o test set (n=3403) |  |  | claude test set (n=2868) |  |  |\n|---|---|---|---|---|---|---|\n|  | Top-5 | Top -1 | MRR | Top-5 | Top -1 | MRR |\n|---|---|---|---|---|---|---|\n| **baseline** | 56.80% | 28.65% | 0.390 | 56.69% | 30.65% | 0.406 |\n| **gpt-4o rare candidates** | 52.66% | 25.95% | 0.357 | 55.47% | 29.04% | 0.388 |\n| **RareScale candidates** | **74.38%** | **33.12%** | **0.471** | **71.41%** | **33.23%** | **0.461** |", "caption": "Table 1: Performance on generated gpt-4o ddx task. All metrics for RareScale on both datasets (see bolded) are significant using a two-sided Wilcoxon signed-rank test with p<0.01\ud835\udc5d0.01p<0.01italic_p < 0.01 compared to the no candidates baseline.", "description": "\ud45c 1\uc740 RareScale\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc0dd\uc131\ub41c GPT-40 \uac10\ubcc4 \uc9c4\ub2e8 \uacb0\uacfc\ub97c \ubcf4\uc5ec\uc90d\ub2c8\ub2e4.  \ub450 \ub370\uc774\ud130\uc14b \ubaa8\ub450\uc5d0\uc11c RareScale\uc758 \ubaa8\ub4e0 \uc9c0\ud45c\ub294 \ud6c4\ubcf4\uad70 \uc5c6\uc774 \uc9c4\ud589\ud55c \uae30\uc900\uc120 \ub300\ube44 \uc720\uc758\ubbf8\ud55c \ucc28\uc774\ub97c \ubcf4\uc600\uc2b5\ub2c8\ub2e4 (\uc591\uce21 Wilcoxon \ubd80\ud638 \uc21c\uc704 \uac80\uc815, p<0.01).  \uc989, RareScale \ubaa8\ub378\uc774 \uac10\ubcc4 \uc9c4\ub2e8 \uc815\ud655\ub3c4\ub97c \ud5a5\uc0c1\uc2dc\ucf30\uc74c\uc744 \ubcf4\uc5ec\uc90d\ub2c8\ub2e4.  Top-1 \uc815\ud655\ub3c4, Top-5 \uc815\ud655\ub3c4, \uadf8\ub9ac\uace0 MRR(Mean Reciprocal Rank) \uac12\uc744 \ud1b5\ud574 \ubaa8\ub378 \uc131\ub2a5\uc744 \ud3c9\uac00\ud558\uc600\uc2b5\ub2c8\ub2e4.", "section": "5.1 RareScale\uc744 \uc0ac\uc6a9\ud55c \uac10\ubcc4 \uc9c4\ub2e8 \uac1c\uc120"}, {"content": "| DDx LLM | Exact | Extremely Rel. | Relevant | Somewhat Rel. | Unrelated |\n|---|---|---|---|---|---| \n| **baseline gpt-4o** | 22.8% | 19.9% | 4.9% | 21.0% | 31.3% |\n| **RareScale gpt-4o** | 55.8% | 8.8% | 2.3% | 12.8% | 20.2% |\n| **baseline claude** | 19.2% | 16.9% | 3.9% | 14.5% | 45.6% |\n| **RareScale claude** | 56.8% | 10.7% | 1.6% | 10.6% | 20.4% |\n| **baseline Llama 3.3 70b** | 20.3% | 19.3% | 5.3% | 21.7% | 33.5% |\n| **RareScale Llama 3,3 70b** | 47.3% | 12.2% | 3.3% | 15.4% | 21.9% |", "caption": "Table 2: We compare LLM baseline DDx generation performance to LLMs with addition of RareScale candidates. We report the LLM as judge results across several categories of similarity, ranging from Exact Match to Unrelated. We combine gpt-4o and claude test sets for this analysis.", "description": "\ud45c 2\ub294 RareScale \ud6c4\ubcf4\uad70\uc744 \ucd94\uac00\ud55c LLM\uacfc \ucd94\uac00\ud558\uc9c0 \uc54a\uc740 LLM\uc758 DDx \uc0dd\uc131 \uc131\ub2a5\uc744 \ube44\uad50\ud55c \uacb0\uacfc\ub97c \ubcf4\uc5ec\uc90d\ub2c8\ub2e4. '\uc644\ubcbd \uc77c\uce58'\ubd80\ud130 '\ubb34\uad00'\uae4c\uc9c0 \ub2e4\uc591\ud55c \uc720\uc0ac\uc131 \ubc94\uc8fc\uc5d0 \uac78\uccd0 LLM \ud310\uc815 \uacb0\uacfc\ub97c \uc81c\uc2dc\ud558\uba70, gpt-4o \ubc0f claude \ud14c\uc2a4\ud2b8 \uc138\ud2b8\uc758 \uacb0\uacfc\ub97c \ud1b5\ud569\ud558\uc5ec \ubd84\uc11d\ud569\ub2c8\ub2e4.  RareScale\uc774 DDx \uc815\ud655\ub3c4\ub97c \ud5a5\uc0c1\uc2dc\ud0a4\ub294 \ub370 \uae30\uc5ec\ud558\ub294\uc9c0, \uadf8\ub9ac\uace0 \uc5b4\ub5a4 \uc720\uc0ac\uc131 \ubc94\uc8fc\uc5d0\uc11c \uc131\ub2a5 \ud5a5\uc0c1\uc774 \ub450\ub4dc\ub7ec\uc9c0\ub294\uc9c0\ub97c \ubcf4\uc5ec\uc8fc\ub294 \ud45c\uc785\ub2c8\ub2e4.", "section": "5.1 DDx Improvements with RareScale"}, {"content": "| Training Dataset | Training Size | gpt-4o test set (n=3403) Top-5 | gpt-4o test set (n=3403) Top-1 | gpt-4o test set (n=3403) MRR | claude test set (n=2868) Top-5 | claude test set (n=2868) Top-1 | claude test set (n=2868) MRR |\n|---|---|---|---|---|---|---|---| \n| **claude** | 8837 | 48.37% | 34.12% | 0.4007 | 64.92% | 45.64% | 0.5371 |\n| **gpt-4o** | 21782 | 88.04% | 63.88% | 0.7410 | 44.18% | 28.45% | 0.3490 |\n| **gpt-4o downsampled** | 8813 | 70.88% | 47.90% | 0.5742 | 37.20% | 23.25% | 0.2884 |\n| **gpt-4o + claude** | 30619 | 88.80% | 64.21% | 0.7463 | 77.82% | 56.35% | 0.6526 |", "caption": "Table 3: Evaluation on the candidate generation task, with MRR, Top-5 and Top-1 Accuracy. We evaluate on models only trained on claude data, gpt-4o data, and both, and evaluate separately on claude and gpt-4o test sets. We include a model trained on a downsampled set of gpt-4o data that approximates the size of the claude training set.", "description": "\ud45c 3\uc740 \ud6c4\ubcf4 \uc0dd\uc131 \uc791\uc5c5\uc5d0 \ub300\ud55c \ud3c9\uac00 \uacb0\uacfc\ub97c \ubcf4\uc5ec\uc90d\ub2c8\ub2e4. MRR, \uc0c1\uc704 5\uac1c, \uc0c1\uc704 1\uac1c \uc815\ud655\ub3c4\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud3c9\uac00\ud588\uc2b5\ub2c8\ub2e4.  Claude \ub370\uc774\ud130, gpt-4o \ub370\uc774\ud130, \uadf8\ub9ac\uace0 \ub450 \ub370\uc774\ud130 \ubaa8\ub450\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud6c8\ub828\ub41c \ubaa8\ub378\uc744 \ud3c9\uac00\ud558\uace0, Claude \ubc0f gpt-4o \ud14c\uc2a4\ud2b8 \uc138\ud2b8\uc5d0\uc11c \ubcc4\ub3c4\ub85c \ud3c9\uac00\ud588\uc2b5\ub2c8\ub2e4.  Claude \ud6c8\ub828 \uc138\ud2b8\uc758 \ud06c\uae30\uc640 \uc720\uc0ac\ud558\ub3c4\ub85d \ub2e4\uc6b4\uc0d8\ud50c\ub9c1\ub41c gpt-4o \ub370\uc774\ud130 \uc138\ud2b8\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud6c8\ub828\ub41c \ubaa8\ub378\ub3c4 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.", "section": "4.1 \ud6c4\ubcf4 \uc0dd\uc131"}, {"content": "| Dx Category | Top K Accuracy | Top 1 Accuracy | MRR | N |\n|---|---|---|---|---|\n| Congenital disorders due to abnormal fetal development | 0.533 | 0.433 | 0.458 | 30 |\n| Immune system disorders | 0.548 | 0.190 | 0.295 | 42 |\n| End organ damage secondary to other disorders | 0.583 | 0.083 | 0.222 | 36 |\n| Disorders with excess or abnormal fluid accumulation | 0.603 | 0.256 | 0.370 | 78 |\n| Disorders of the hematopoietic and lymphatic systems | 0.667 | 0.000 | 0.306 | 6 |\n| Drug induced injury alias adverse drug effects | 0.699 | 0.192 | 0.361 | 73 |\n| Degenerative disorders | 0.704 | 0.241 | 0.391 | 108 |\n| Infectious disease alias infections | 0.711 | 0.278 | 0.424 | 862 |\n| Neoplastic disease | 0.721 | 0.236 | 0.384 | 330 |\n| Disorders involving cysts stones or calculi | 0.722 | 0.611 | 0.650 | 18 |\n| Impaired cardiovascular function | 0.738 | 0.359 | 0.486 | 390 |\n| Disorders due to toxic or chemical or radiation injury | 0.745 | 0.398 | 0.523 | 98 |\n| Musculoskeletal disorders | 0.750 | 0.292 | 0.467 | 24 |\n| Non-infectious inflammatory disease | 0.753 | 0.326 | 0.477 | 384 |\n| Metabolic disorders | 0.778 | 0.333 | 0.482 | 144 |\n| Bleeding disorders and coagulopathies | 0.783 | 0.267 | 0.449 | 60 |\n| Disorders of thorax cardiovascular system and lymphatic ducts | 0.783 | 0.522 | 0.590 | 23 |\n| Endocrine disease | 0.788 | 0.417 | 0.547 | 132 |\n| Fibrosis or scarring of visceral organ | 0.796 | 0.245 | 0.436 | 49 |\n| Neuropsychiatric disorders | 0.803 | 0.439 | 0.573 | 66 |\n| Disorders secondary to trauma | 0.806 | 0.361 | 0.519 | 36 |\n| Impaired fluid flow within hollow viscus or viscera non-vascular | 0.833 | 0.583 | 0.649 | 24 |\n| Multisystem disorders | 0.833 | 0.667 | 0.708 | 6 |\n| Disorders associated with pregnancy | 0.833 | 0.542 | 0.663 | 24 |\n| Inherited congenital or degenerative disorders | 0.847 | 0.458 | 0.588 | 144 |\n| Miscellaneous mechanical disorders | 0.861 | 0.542 | 0.655 | 72 |\n| Kidney and urinary tract disorders | 0.875 | 0.458 | 0.654 | 24 |\n| Disorders due to mechanical tear or trauma or visceral erosion | 0.875 | 0.667 | 0.764 | 24 |\n| Disorders of abdomen digestive system and/or nutrition | 0.889 | 0.389 | 0.573 | 18 |\n| Disorders due to nutritional and/or vitamin deficiency | 0.917 | 0.611 | 0.738 | 36 |\n| Electrophysiological neurological disorders | 0.917 | 0.542 | 0.687 | 24 |\n| Disorders of smooth muscle contraction and/or relaxation | 0.944 | 0.722 | 0.801 | 18 |", "caption": "Table 4: Performance from RareScale, gpt-4o in Table 1 broken down by disease category. Note that a disease may fall into multiple categories.", "description": "\ud45c 4\ub294 RareScale \ubaa8\ub378\uc758 \uc131\ub2a5\uc744 \uc9c8\ubcd1 \ubc94\uc8fc\ubcc4\ub85c \uc138\ubd84\ud654\ud558\uc5ec \ubcf4\uc5ec\uc90d\ub2c8\ub2e4. \uc774 \ud45c\ub294 \ubcf8 \ub17c\ubb38\uc758 \ud45c 1\uc5d0\uc11c gpt-40\ub97c \uc0ac\uc6a9\ud55c RareScale \ubaa8\ub378\uc758 \uc131\ub2a5\uc744 \uae30\ubc18\uc73c\ub85c \ud558\uba70, \uac01 \uc9c8\ubcd1\uc774 \uc5ec\ub7ec \ubc94\uc8fc\uc5d0 \uc18d\ud560 \uc218 \uc788\ub2e4\ub294 \uc810\uc744 \uba85\uc2dc\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4.  \uac01 \uc9c8\ubcd1 \ubc94\uc8fc\uc5d0 \ub300\ud574 Top-K \uc815\ud655\ub3c4, Top-1 \uc815\ud655\ub3c4, MRR(Mean Reciprocal Rank) \uac12\uacfc \ub370\uc774\ud130 \uc218(N)\uc744 \uc81c\uc2dc\ud558\uc5ec RareScale \ubaa8\ub378\uc774 \ub2e4\uc591\ud55c \uc9c8\ubcd1 \ubc94\uc8fc\uc5d0\uc11c \uc5b4\ub290 \uc815\ub3c4\uc758 \uc131\ub2a5\uc744 \ubcf4\uc774\ub294\uc9c0 \uc0c1\uc138\ud788 \ubd84\uc11d\ud55c \uacb0\uacfc\ub97c \ubcf4\uc5ec\uc90d\ub2c8\ub2e4.", "section": "5.1 Rare Disease Differential Diagnoses"}, {"content": "| generation model | split | size | findings | messages |\n|---|---|---|---|---|\n| **gpt-4o** | train | 21782 | 11.88 \u00b1 1.91 | 17.54 \u00b1 3.58 |\n|  | val | 3404 | 11.69 \u00b1 2.08 | 17.31 \u00b1 3.78 |\n|  | test | 3403 | 11.66 \u00b1 2.05 | 17.27 \u00b1 3.69 |\n| **claude** | train | 8837 | 11.88 \u00b1 1.90 | 14.54 \u00b1 3.47 |\n|  | val | 2868 | 11.69 \u00b1 2.04 | 14.11 \u00b1 3.38 |\n|  | test | 2868 | 11.70 \u00b1 2.08 | 14.30 \u00b1 3.48 |", "caption": "Table 5: Data statistics for train, validation, and test sets. We include the number of chats, the average number of findings and standard deviation, and the average number of messages and standard deviation.", "description": "\ud45c 5\ub294 \ud6c8\ub828, \uac80\uc99d \ubc0f \ud14c\uc2a4\ud2b8 \uc138\ud2b8\uc5d0 \ub300\ud55c \ud1b5\uacc4\ub97c \ubcf4\uc5ec\uc90d\ub2c8\ub2e4.  \uc138\ud2b8\uc758 \ucc44\ud305 \uc218, \ud3c9\uade0 \ubc1c\uacac \uc218\uc640 \ud45c\uc900 \ud3b8\ucc28, \uadf8\ub9ac\uace0 \ud3c9\uade0 \uba54\uc2dc\uc9c0 \uc218\uc640 \ud45c\uc900 \ud3b8\ucc28\ub97c \ud3ec\ud568\ud569\ub2c8\ub2e4. \uc774\ub294 \ubaa8\ub378 \ud6c8\ub828 \ubc0f \ud3c9\uac00\uc5d0 \uc0ac\uc6a9\ub41c \ub370\uc774\ud130\uc758 \ud06c\uae30\uc640 \ub2e4\uc591\uc131\uc744 \uc774\ud574\ud558\ub294 \ub370 \ub3c4\uc6c0\uc774 \ub429\ub2c8\ub2e4.", "section": "3 Corpus Simulation"}, {"content": "| Synthetic | Annotator | Disease | Reasoning |\n|---|---|---|---| \n| yes | yes | histoplasma meningitis | This disease is possible because the patient\u2019s history of lymphoma and transplant makes them immunocompromised, which increases their risk of histoplasmosis meningitis. The histoplasmosis meningitis could cause this patient\u2019s symptoms of nausea/vomiting, fever/chills, and severe headache. |\n| yes | yes | cerebral malaria | This disease is possible because urinary and bowel incontinence, intractable headache, visual loss/retinopathy, and fever point to an infectious cerebral process that could be caused by cerebral malaria. |\n| yes | yes | neurogenic osteoarthropathy alias charcot_joint_disease | This could be possible charcot joint disease, which is set off by trauma to a neuropathic extremity and can cause joint pain. Although Charcot\u2019s is technically most common in the foot, it can also extend to any major joint like the knees, shoulder, hip, etc. |\n| yes | yes | glaucoma acute angle closure | Blurriness with rainbow rings/halos, nausea/vomiting, headache, decreased vision, and sudden onset are all symptoms of acute angle-closure glaucoma. |\n| yes | yes | cytomegalovirus infection disseminated | This disease is possible because the patient is immunocompromised by their organ transplant, and their symptoms of vision changes, diarrhea, fever, chills, vomiting, and myalgias are consistent with a disseminated cytomegalovirus infection. |\n| yes | no | cutaneous anthrax | Lack of bump/ulcer/eschar. though presence of pruritis and exposure to possible animals infected as a vet, symptoms are nonspecific. |\n| yes | no | herpes zoster | This disease is not possible because although herpes zoster can have peripheral symptoms including this patient\u2019s myalgia, headache, and abdominal pain, this patient does not have the characteristic dermatomal rash, skin changes, or skin-level pain of herpes zoster. |\n| no | no | pulmonary aspergillosis invasive type | This disease is not possible because the patient is not immunocompromised, has not had recent surgeries or pneumonia, or chemotherapy, and does not have a cough, which I would expect from pulmonary aspergillosis since it is an opportunistic pulmonary infection. |\n| no | no | henoch schonlein syndrome alias henoch-schonlein purpura | This disease is not possible because the patient does not report the purpura around the legs/gluteus that is characteristic for Henoch Schonlein purpura. The patient is also not in the typical age group for this disease, which primarily is in pediatric populations. |\n| no | yes | bronchial asthma | This disease is possible because of the patient\u2019s history of dyspnea at rest and worse with activity. The urinary frequency could also be related because there are positive associations between bronchial asthma and increased urge to urinate. |", "caption": "Table 6: Sample explanations from the annotation task. Note that the disease column indicates which disease they were asked to annotate against \u2013 this is the expected disease for the positive synthetic labels, but is not expected for the negative ones.", "description": "\ud45c 6\uc740 \uc8fc\uc11d \uc791\uc5c5\uc5d0\uc11c \ub098\uc628 \uc0d8\ud50c \uc124\uba85\uc744 \ubcf4\uc5ec\uc90d\ub2c8\ub2e4. \uc9c8\ubcd1 \uc5f4\uc774 \uc5b4\ub5a4 \uc9c8\ubcd1\uc744 \uc8fc\uc11d \ucc98\ub9ac\ud558\ub3c4\ub85d \uc694\uccad\ubc1b\uc558\ub294\uc9c0 \ub098\ud0c0\ub0b4\ub294 \uac83\uc744 \ucc38\uace0\ud558\uc138\uc694. \uc591\uc131 \ud569\uc131 \ub808\uc774\ube14\uc758 \uacbd\uc6b0 \uc608\uc0c1 \uc9c8\ubcd1\uc774\uace0, \uc74c\uc131\uc758 \uacbd\uc6b0 \uc608\uc0c1\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.", "section": "5.3 \uc804\ubb38\uac00 \ucc44\ud305 \ud3c9\uac00"}, {"content": "|                     | **gpt-4o chats** |                     |                     |                     | **claude chats** |                     |                     |\n| :------------------ | :----------------: | :----------------: | :----------------: | :----------------: | :----------------: | :----------------: | :----------------: |\n| **gpt-4o only**    |      88.28%       |      63.13%       |      0.7384       |      47.25%       |      31.80%       |      0.3817       |\n| **claude only**   |      48.38%       |      34.43%       |      0.4025       |      65.93%       |      45.71%       |      0.5415       |\n| **combined**       |      88.57%       |      64.10%       |      0.7444       |      79.64%       |      57.46%       |      0.6675       |\n| Top K              |     Top-1          |      MRR           |  Top K              |      Top-1          |      MRR          |", "caption": "Table 7: Candidate generation metrics for validation set.", "description": "\ud45c 7\uc740 \uac80\uc99d \uc138\ud2b8\uc5d0 \ub300\ud55c \ud6c4\ubcf4 \uc0dd\uc131 \uc9c0\ud45c\ub97c \ubcf4\uc5ec\uc90d\ub2c8\ub2e4.  gpt-40 \uc804\uc6a9, claude \uc804\uc6a9, \uadf8\ub9ac\uace0 \ub450 \ubaa8\ub378\uc744 \uacb0\ud569\ud55c \uacbd\uc6b0\uc5d0 \ub300\ud55c \uc0c1\uc704 1\uac1c, \uc0c1\uc704 5\uac1c \uc815\ud655\ub3c4 \ubc0f MRR(\ud3c9\uade0 \uc5ed\uc21c\uc704) \uc810\uc218\ub97c \ubcf4\uc5ec\uc90d\ub2c8\ub2e4. \uc774 \ud45c\ub294 RareScale \ubaa8\ub378\uc758 \ud6c4\ubcf4 \uc0dd\uc131 \uc131\ub2a5\uc744 \ud3c9\uac00\ud558\ub294 \ub370 \uc0ac\uc6a9\ub429\ub2c8\ub2e4.", "section": "5.2 RareScale Candidate Generation"}]